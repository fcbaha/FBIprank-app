<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FBI Verification</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="form-wrapper">
    <h1>üö® –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏</h1>
    <form id="regForm">
      <input type="text" name="name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" required />
      <input type="email" name="email" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email" required />
      <button type="submit">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
    </form>
  </div>

  <div class="modal" id="loadingModal">
    <div class="modal-content">
      <div class="spinner"></div>
      <p id="statusText">–ù–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É...</p>
    </div>
  </div>

  <div id="crash"></div>

  <div id="finalPrank" style="display: none;">
    <div class="final-message">
      <img src="/assets/troll.gif" alt="troll" />
      <h1>–ü—Ä–æ–≤–µ—Ä—å –ø–æ—á—Ç—É, –ª–æ—Ö üòà</h1>
    </div>
  </div>

  <script>
    const form = document.getElementById('regForm');
    const modal = document.getElementById('loadingModal');
    const statusText = document.getElementById('statusText');

    const steps = [
      "üîç –°–∫–∞–Ω–∏—Ä—É–µ–º —Ç–≤–æ–∏ —Å–æ—Ü—Å–µ—Ç–∏...",
      "üì¶ –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ –∏–∑ Telegram...",
      "üçë –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å 18+ —Å–∞–π—Ç–æ–≤...",
      "üíæ –î–æ—Å—Ç–∞—ë–º –∞—Ä—Ö–∏–≤ –±—Ä–∞—É–∑–µ—Ä–∞...",
      "üß† –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –º—ã—Å–ª–∏ –∑–∞ 2020 –≥–æ–¥...",
      "üì® –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—Å—ë –º–∞–º–µ –∏ –§–ë–†...",
      "‚úÖ –ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–≤–µ—Ä—å –ø–æ—á—Ç—É, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–∞–ø–∫—É '–°–ø–∞–º' üòà"
    ];

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      const payload = new URLSearchParams(formData);

      modal.style.display = 'flex';
      let i = 0;

      const interval = setInterval(() => {
        if (i < steps.length) {
          statusText.innerText = steps[i++];
        } else {
          clearInterval(interval);
          spawnFakeWindows();

          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º "—Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–±–æ–π"
          setTimeout(() => {
            document.body.classList.add('freeze');
            document.getElementById('crash').innerHTML = `
              <div style="position:fixed;top:0;left:0;width:100%;height:100%;background:black;color:lime;font-family:monospace;font-size:16px;padding:20px;z-index:99999;">
                <p>üíæ SYSTEM DUMP: memory overflow</p>
                <p>üß† Collecting session state...</p>
                <p>üí£ Error 0x0DEAD1337</p>
              </div>
            `;

            // –ü–æ–∫–∞–∑ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∞–Ω–∫–∞
            setTimeout(() => {
              document.getElementById('finalPrank').style.display = 'flex';
            }, 2000);
          }, 3000);

          // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å—å–º–∞
          fetch('/send', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: payload
          });
        }
      }, 1400);
    });

    function spawnFakeWindows() {
      for (let i = 0; i < 15; i++) {
        const box = document.createElement('div');
        box.className = 'fake-window';
        box.innerText = `‚ö†Ô∏è –û—à–∏–±–∫–∞ ‚Ññ${Math.floor(Math.random()*9000) + 1000}`;
        box.style.top = `${Math.random() * 80}vh`;
        box.style.left = `${Math.random() * 80}vw`;
        document.body.appendChild(box);
      }
    }
  </script>
</body>
</html>
